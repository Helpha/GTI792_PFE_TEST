<!DOCTYPE html>
<html lang="en">

    <head>

	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <meta name="description" content="">
	    <meta name="author" content="">
	    <title>Offre| Tankeray</title>

        <!-- CSS -->
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,100,300,500">
        <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="assets/css/form-elements.css">
        <link rel="stylesheet" href="assets/css/style.css">
        <link href="css/bootstrap.min.css" rel="stylesheet">
	    <link href="css/font-awesome.min.css" rel="stylesheet">
	    <link href="css/animate.min.css" rel="stylesheet">
	    <link href="css/prettyPhoto.css" rel="stylesheet">
	    <link href="css/main.css" rel="stylesheet">
	    <link href="css/responsive.css" rel="stylesheet">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <!-- Favicon and touch icons -->
        <link rel="shortcut icon" href="assets/ico/favicon.png">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
		<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
		<script src="js/paccordion.js"></script>


    	<script src="js/jquery.js"></script>

<script type="text/javascript">
var token = localStorage.getItem("token");
var email = localStorage.getItem("email");
	function updateSkills()
{
	
		skill = document.getElementById("ddlSkill").value;
		skillLevel = document.getElementById("ddlSkillLevel").value;
		html = "<li>"+skill+" - "+skillLevel+"</li>";
		document.getElementById('listSkills').innerHTML += html;
}

function postOffer()
{
	alert(token);
	var skills = "[";
	var ul = document.getElementById("listSkills");
	var items = ul.getElementsByTagName("li");
	for (var i = 0; i < items.length; ++i) {
		var valueToSeperate = items[i].innerHTML ;
		var myArray = valueToSeperate.split ( " - " );
		var lastThing =",";
		if(i==items.length-1)
			{
				lastThing ="";
			}
		if (myArray[1]== "expert"){
			myArray[1] = "3";
		}	
		
		if (myArray[1]== "intermédiaire"){
			myArray[1] = "2";
		}
		
		if (myArray[1]== "débutant"){
			myArray[1] ="1";
		}
					
	   skills += "{name:\""+myArray[0]+"\",weight:"+myArray[1]+"}"+lastThing+"";
	}
	skills += "]";
		
	var job = document.getElementById("jobTitle").value;
	var shortDesc = document.getElementById("jobShortDesc").value;
	var schedule = document.getElementById("jobSchedule").value;
	var teamSize =document.getElementById("jobTeamSize").value;
	var longDesc =document.getElementById("jobLongDesc").value;
	var minSalary =document.getElementById("jobSalaryLow").value;
	var maxSalary =document.getElementById("jobSalaryHigh").value;
	var avantages =document.getElementById("jobAvantages").value;
	var emailContact =document.getElementById("jobContactEmail").value;
	var phoneContact =document.getElementById("jobContactPhone").value;
	var startOffer =document.getElementById("jobStartDate").value;
	var endOffer =document.getElementById("jobFinishDate").value;
	var hasCar =document.getElementById("hasCar").value;	
	
	
$.ajax({
    type:'PUT',
    cache : false,
    url: "http://149.56.109.218/API/offers",
    data : {
    	//High/low salary
    	//ContractType
    	//Avantages ?
    	//Name ?
        userId : "0",
        title : job,
        shortDescription : shortDesc,
        skills : skills,
        horaires : schedule,
        teamsize : teamSize,
        longDescription : longDesc,
        salary : "35000",
        avantagesSociaux : {avantage1 : "avantage1", avantage2 : "avantage2"},
        contractInfo : {firstname : "TEST", lastname : "TEST", phonenumber:phoneContact, email : emailContact},
        offersBegin : startOffer,
        offersEnd : endOffer,
        needCar : hasCar,
        email: email,
        token: token,
        method:"PUT"
    },
    dataType:"jsonp"})
    .done(function(data){
    	console.log(data);
    }).fail(function(xhr, status, error)
	{
	alert(xhr.responseText);
	}).always(function(){
            //alert("ajax");
    });
}

	
	
</script>


    </head>

    <body class="homepage">

    <header id="header">

              <nav class="navbar navbar-inverse" role="banner">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html"><img src="images/logo.png" alt="logo"></a>
                </div>
				
                                <div class="collapse navbar-collapse navbar-right">
                                       <ul class="nav navbar-nav">
                        <li class="active"><a href="profile.html">Profil</a></li>
						<li><a href="job.html">Voir les offres</a></li>
						<li><a href="matchs.html">Voir vos matchs</a></li>
						<li><a href="createOffers.html">Créer une nouvelle offre</a></li>
                        <li><a href="clientOffering.html">Vos offres en cours</a></li>
                        <li><a href="matchingJob.html">Voir les candidats</a></li>                
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
		
    </header><!--/header-->

        <!-- Top content -->
<div class="container">
			<div class="center">
			<div class="col-sm-12">
						<div class="heading">
							<h2>Vos informations</h2>
						</div>
						<div class="accordion-wrapper">
							<div class="ac-pane active">
								<a href="#" class="ac-title" >
									<span>Informations publiques</span>
									<i class="fa"></i>
								</a>
								<div class="ac-content">
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Poste</label>
										<input type="text" type="text" id="jobTitle" name="jobTitle" placeholder="John..." class="col-xs-10 floatRight beauInput"/>
									</div><br />	
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Courte description</label>
										 <textarea id="jobShortDesc" placeholder="Courte description..." name="desc" rows="12" cols="40" class="col-xs-10 floatRight"></textarea>
									</div><br />
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Ajouter une compétence</label>
										<select id="ddlSkill" class="col-xs-10 floatRight">
											<option value="word">Word</option>
											<option value="csharp">C#</option>
											<option value="php">PHP</option>
										</select><br />	
										<select id="ddlSkillLevel" class="col-xs-10 floatRight">
											<option value="débutant">Débutant</option>
											<option value="intermédiaire">Intermédiaire</option>
											<option value="expert">Expert</option>
										</select><br />
										<input class="col-xs-10 floatRight btnRouge" type="submit" value="ajouter" onclick="updateSkills()" id="btnUpdateSkills" />									
									</div><br />
									
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Compétences requises</label>
										<div class="col-xs-10 floatRight textAlignLeft">
											<ul id="listSkills">
											
											</ul>										
										</div>
										</div>										
								</div>
							</div>
							<div class="ac-pane">
								<a href="#" class="ac-title" >
									<span>Informations étendues</span>
									<i class="fa"></i>
								</a>
								<div class="ac-content">
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Horaire</label>
										<input type="text" id="jobSchedule" type="text" name="jobSchedule" placeholder="9:00 à 5:00" class="col-xs-10 floatRight beauInput"/>
									</div><br />
									
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Grosseur de l'équipe</label>
										<input type="text" id="jobTeamSize" type="text" name="teamSize" placeholder="Environ 15 personnes" class="col-xs-10 floatRight beauInput"/>
									</div><br />
									
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Longue description description</label>
										 <textarea id="jobLongDesc" placeholder="Courte description..." name="longdesc" rows="12" cols="40" class="col-xs-10 floatRight"></textarea>
									</div><br />
									
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Salaire offert ($/heure)</label>
										 <input type="text" id="jobSalaryHigh" type="text" name="jobSalaryHigh" placeholder="maximum" class="col-xs-5 floatRight beauInput"/>
										 <input type="text" id="jobSalaryLow" type="text" name="jobSalaryLow" placeholder="minimum" class="col-xs-5 floatRight beauInput"/>										 
									</div><br />
									
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Avantages sociaux</label>
										 <input type="text" id="jobAvantages" type="text" name="avantages" placeholder="maximum" class="col-xs-10 floatRight beauInput"/>										 
									</div><br />

									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Courriel</label>
										<input type="email" id="jobContactEmail" type="text" name="emailContact" placeholder="john.doh@gmail.com" class="col-xs-10 floatRight"/>
									</div><br />
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Téléphone</label>
										<input type="tel" id="jobContactPhone" type="text" name="phoneContact" placeholder="555-555-5555" class="col-xs-10 floatRight"/>
									</div><br />
									
																
								</div>
																
								</div>
								</div>
							<div class="ac-pane">
								<a href="#" class="ac-title" >
									<span>Informations privées</span>
									<i class="fa"></i>
								</a>
								<div class="ac-content">
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Début de l'offre</label>
										<input type="date" id="jobStartDate" type="text" name="offerStarts"  class="col-xs-10 floatRight"/>

									</div><br />
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Fin de l'offre</label>
										<input type="date" id="jobFinishDate" type="text" name="offerEnds" class="col-xs-10 floatRight"/>

									</div><br />
									
									<div class="row">
										<label  class="col-sm-1 textAlignLeft">Doit posséder voiture ?</label>
										<input type="checkbox" id="hasCar" name="vehicle" value="yes" class="floatRight"><br>
									</div><br />
									
									
							
							</div>
							
						</div>
						<input class="btnRouge floatRight" type="submit" name="btnAnnuler" value="Annuler" />
						<input class="btnRouge floatRight" type="submit" onclick="postOffer()" name="btnCreer" value="Créer" />
						
					</div>
</div>   
</div>              
<br />
     <footer id="footer" class="midnight-blue">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    &copy; 2016 <a target="_blank" >Tankeray</a>. Tous droits réservés.
                </div>

            </div>
        </div>
    </footer><!--/#footer-->

        <!-- Javascript -->
    <script src="assets/js/jquery-1.11.1.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.backstretch.min.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>
    <script src="js/jquery.isotope.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/wow.min.js"></script>
</body>
</html>